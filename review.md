# Visual Review: Эволюция Ink Style

Этот документ демонстрирует концепт **Эволюции** текущего визуального стиля ("Ink on Paper"). Мы отказываемся от радикальных изменений (Неон, Чертеж) в пользу полировки, глубины и "сочности" (Juice) текущей атмосферы.

![Koncept Evolution Style](/C:/Users/Luisa/.gemini/antigravity/brain/9a7d1c1a-6dbe-46d2-a8bc-489cb5627d48/ink_style_evolution_concept_1769433126532.png)

## Ключевые Элементы "Эволюции"

1. **Акварельная Заливка (Watercolor Wash):**
    * **Сейчас:** Однотонные линии и пустота.
    * **Будет:** Легкие, полупрозрачные пятна цвета (зеленый для травы, синий для льда), которые небрежно выходят за контуры. Это добавит жизни, не перегружая картинку.
    * *Техника:* Отрисовка нескольких слоев полупрозрачных полигонов с шумом перлина для краев.

2. **Глубина Штриха (Dynamic Hatching):**
    * **Сейчас:** Просто контуры.
    * **Будет:** Автоматическая штриховка (hatching) в тенях башен и стен. Густота штриховки зависит от угла освещения.

3. **Чернильная Физика (Liquid Ink):**
    * **Эффекты:** Взрывы — это разлетающиеся капли чернил.
    * **След:** Враги оставляют за собой исчезающий чернильный след.
    * *Safe Mode:* Если слишком нагружает систему, отключается в настройках.

4. **UI "Записки на полях":**
    * Интерфейс перестанет быть просто "коробками поверх экрана". Кнопки и панели будут выглядеть как обрывки бумаги, приколотые кнопками к карте, или заметки на полях.

---

## План Реализации (Безопасность и Совместимость)

Мы строго соблюдаем принцип обратной совместимости. Весь новый рендер будет жить внутри существующей архитектуры, не ломая старый `SPRITE` режим.

### 1. Архитектура Переключения

В `Config.ts` сохраняется флаг:

```typescript
export const CONFIG = {
    VISUAL_STYLE: 'INK_EVO', // Варианты: 'SPRITE' | 'INK_LEGACY' | 'INK_EVO'
    // ...
}
```

* Все новые эффекты (акварель, частицы) оборачиваются в проверки.
* При ошибке или желании игрока можно мгновенно переключиться на старый вид.

### 2. Этапы Внедрения

1. **Phase 1: Watercolor & Paper Update.** Замена статического фона на процедурную бумагу + добавление слоя акварели для зон (трава, вода).
2. **Phase 2: Advanced Ink Renderer.** Добавление штриховки (Hatching) для башен и стен.
3. **Phase 3: Ink Particles.** Система частиц для взрывов и снарядов.
4. **Phase 4: UI Paper Skin.** Рескин интерфейса под бумажные заметки.

---
**Вердикт:** Этот план делает картинку современной, дорогой и целостной, сохраняя уникальность "рисованного" стиля.
